openapi: 3.0.2
info:
    title: Discoveryfy
    version: 0.2.6
    description: Create collaborative playlists in Spotify with your friends and colleagues and rate the songs
    contact:
        name: Leninux
        url: 'https://discoveryfy.fabri.cat'
    license:
        name: GNU GPLv3
        url: 'https://www.gnu.org/licenses/gpl.txt'
servers:
    -
        url: 'https://api.discoveryfy.fabri.cat'
paths:
    '/groups/{group_uuid}':
        summary: One group of users
        get:
            tags:
                - Group
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Group
                                            id:
                                                $ref: '#/components/schemas/Group.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Group.Read'
                                            relationships:
                                                type: object
                                                properties:
                                                    polls:
                                                        type: array
                                                        items:
                                                            type: object
                                                            properties:
                                                                type:
                                                                    type: string
                                                                    example: Polls
                                                                id:
                                                                    type: string
                                                                    example: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                                    included:
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Poll.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Group.Read.Jsonld'
                    description: Group resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: group.get
            summary: Get one group information
        put:
            requestBody:
                description: The updated Group resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Group.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Group
                                        id:
                                            $ref: '#/components/schemas/Group.UUID'
                                        attributes:
                                            $ref: '#/components/schemas/Group.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Group.Write'
                required: true
            tags:
                - Group
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Group
                                            id:
                                                $ref: '#/components/schemas/Group.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Group.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Group.Read.Jsonld'
                    description: Group resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: group.put
            summary: Modify one group
        delete:
            tags:
                - Group
            responses:
                '204':
                    $ref: '#/components/responses/Resource.Deleted'
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: group.delete
            summary: Delete one group
        parameters:
            -
                name: group_uuid
                description: Group UUID
                schema:
                    $ref: '#/components/schemas/Group.UUID'
                in: path
                required: true
    '/groups/{group_uuid}/members':
        summary: >-
            List of the members of one Group (@ToDo: This endpoint is really needed? All the info is included
            in /groups/{group_uuid}, check )
        get:
            tags:
                - Group
            parameters:
                -
                    name: page
                    schema:
                        $ref: '#/components/schemas/Page'
                    in: query
                    required: false
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Member.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                type:
                                                    type: string
                                                    example: Member
                                                attributes:
                                                    $ref: '#/components/schemas/Member.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - 'hydra:member'
                                type: object
                                properties:
                                    'hydra:member':
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Member.Read.Jsonld'
                                    'hydra:totalItems':
                                        minimum: 0
                                        type: integer
                                    'hydra:view':
                                        type: object
                                        properties:
                                            '@id':
                                                format: iri-reference
                                                type: string
                                            '@type':
                                                type: string
                                            'hydra:first':
                                                format: iri-reference
                                                type: string
                                            'hydra:last':
                                                format: iri-reference
                                                type: string
                                            'hydra:next':
                                                format: iri-reference
                                                type: string
                                    'hydra:search':
                                        type: object
                                        properties:
                                            '@type':
                                                type: string
                                            'hydra:template':
                                                type: string
                                            'hydra:variableRepresentation':
                                                type: string
                                            'hydra:mapping':
                                                type: array
                                                items:
                                                    type: object
                                                    properties:
                                                        '@type':
                                                            type: string
                                                        variable:
                                                            type: string
                                                        property:
                                                            type: string
                                                        required:
                                                            type: boolean
                    description: Membership collection response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: members.list
            summary: ''
        parameters:
            -
                name: group_uuid
                description: Group UUID
                schema:
                    $ref: '#/components/schemas/Group.UUID'
                in: path
                required: true
    '/groups/{group_uuid}/members/{user_uuid}':
        summary: Modify the membership of a user in a group
        get:
            tags:
                - Group
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Member.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Member
                                            attributes:
                                                $ref: '#/components/schemas/Member.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Member.Read.Jsonld'
                    description: Membership resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: member.get
            summary: Get the group membership information of one user
        put:
            requestBody:
                description: The updated Membership resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Member.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Member
                                        attributes:
                                            $ref: '#/components/schemas/Member.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Member.Write'
                required: true
            tags:
                - Group
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Member.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Member
                                            attributes:
                                                $ref: '#/components/schemas/Member.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Member.Read.Jsonld'
                    description: Membership resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: member.put
            summary: Modify the rol of one user in a group
        delete:
            tags:
                - Group
            responses:
                '204':
                    $ref: '#/components/responses/Resource.Deleted'
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: member.delete
            summary: Delete the group membership of one user
        parameters:
            -
                name: group_uuid
                description: Group UUID
                schema:
                    $ref: '#/components/schemas/Group.UUID'
                in: path
                required: true
            -
                name: user_uuid
                description: User UUID
                schema:
                    $ref: '#/components/schemas/User.UUID'
                in: path
                required: true
    '/groups/{group_uuid}/polls':
        get:
            tags:
                - Poll
                - Group
            parameters:
                -
                    $ref: '#/components/parameters/pageParam'
                -
                    $ref: '#/components/parameters/sortPollsParam'
                -
                    $ref: '#/components/parameters/filterPollsParam'
                -
                    $ref: '#/components/parameters/includePollsParam'
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Poll.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                type:
                                                    type: string
                                                    example: Poll
                                                id:
                                                    $ref: '#/components/schemas/Poll.UUID'
                                                attributes:
                                                    $ref: '#/components/schemas/Poll.Read'
                                                relationships:
                                                    type: object
                                                    properties:
                                                        tracks:
                                                            type: array
                                                            items:
                                                                type: object
                                                                properties:
                                                                    type:
                                                                        type: string
                                                                        example: Track
                                                                    id:
                                                                        type: string
                                                                        example: a9269c43-94dc-4b6a-9e97-f8871d2b630b
                                    included:
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Track.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - 'hydra:member'
                                type: object
                                properties:
                                    'hydra:member':
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Poll.Read.Jsonld'
                                    'hydra:totalItems':
                                        minimum: 0
                                        type: integer
                                    'hydra:view':
                                        type: object
                                        properties:
                                            '@id':
                                                format: iri-reference
                                                type: string
                                            '@type':
                                                type: string
                                            'hydra:first':
                                                format: iri-reference
                                                type: string
                                            'hydra:last':
                                                format: iri-reference
                                                type: string
                                            'hydra:next':
                                                format: iri-reference
                                                type: string
                                    'hydra:search':
                                        type: object
                                        properties:
                                            '@type':
                                                type: string
                                            'hydra:template':
                                                type: string
                                            'hydra:variableRepresentation':
                                                type: string
                                            'hydra:mapping':
                                                type: array
                                                items:
                                                    type: object
                                                    properties:
                                                        '@type':
                                                            type: string
                                                        variable:
                                                            type: string
                                                        property:
                                                            type: string
                                                        required:
                                                            type: boolean
                    links:
                        GetPoll:
                            operationId: poll.get
                            parameters:
                                poll_uuid: '$response.body#/poll_uuid'
                            description: >-
                                The `id` value returned in the response can be used as the `poll_uuid`
                                parameter in `GET /polls/{poll_uuid}`.                                        
                    description: Poll collection response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: group.polls.list
            summary: 'Retrieves the public polls of one group, or all polls if the user is member of the group'
        post:
            requestBody:
                description: The new Poll resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Poll.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Poll
                                        attributes:
                                            $ref: '#/components/schemas/Poll.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Poll.Write'
                required: true
            tags:
                - Poll
            responses:
                '201':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Poll
                                            id:
                                                $ref: '#/components/schemas/Poll.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Poll.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read'
                    links:
                        GetPoll:
                            operationId: poll.get
                            parameters:
                                poll_uuid: '$response.body#/poll_uuid'
                            description: >-
                                The `id` value returned in the response can be used as the `poll_uuid`
                                parameter in `GET /polls/{poll_uuid}`.
                    description: Poll resource created
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: poll.create
            summary: Create one new poll inside a group
            description: >-
                If the fields: spotify_playlist_uri, spotify_playlist_winner_uri or
                spotify_playlist_historic_uri are empty, an async task is called for create one playlist in
                Spotify for each empty value.
        parameters:
            -
                name: group_uuid
                description: Group UUID
                schema:
                    $ref: '#/components/schemas/Group.UUID'
                in: path
                required: true
    /polls:
        summary: >-
            Get all public polls, and if the current session has a user attached, the polls where the user has
            accesss
        get:
            tags:
                - Poll
            parameters:
                -
                    $ref: '#/components/parameters/pageParam'
                -
                    $ref: '#/components/parameters/sortPollsParam'
                -
                    $ref: '#/components/parameters/filterPollsParam'
                -
                    $ref: '#/components/parameters/includePollsParam'
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Poll.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                type:
                                                    type: string
                                                    example: Poll
                                                id:
                                                    $ref: '#/components/schemas/Poll.UUID'
                                                attributes:
                                                    $ref: '#/components/schemas/Poll.Read'
                                                relationships:
                                                    type: object
                                                    properties:
                                                        tracks:
                                                            type: array
                                                            items:
                                                                type: object
                                                                properties:
                                                                    type:
                                                                        type: string
                                                                        example: Track
                                                                    id:
                                                                        type: string
                                                                        example: a9269c43-94dc-4b6a-9e97-f8871d2b630b
                                    included:
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Track.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - 'hydra:member'
                                type: object
                                properties:
                                    'hydra:member':
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Poll.Read.Jsonld'
                                    'hydra:totalItems':
                                        minimum: 0
                                        type: integer
                                    'hydra:view':
                                        type: object
                                        properties:
                                            '@id':
                                                format: iri-reference
                                                type: string
                                            '@type':
                                                type: string
                                            'hydra:first':
                                                format: iri-reference
                                                type: string
                                            'hydra:last':
                                                format: iri-reference
                                                type: string
                                            'hydra:next':
                                                format: iri-reference
                                                type: string
                                    'hydra:search':
                                        type: object
                                        properties:
                                            '@type':
                                                type: string
                                            'hydra:template':
                                                type: string
                                            'hydra:variableRepresentation':
                                                type: string
                                            'hydra:mapping':
                                                type: array
                                                items:
                                                    type: object
                                                    properties:
                                                        '@type':
                                                            type: string
                                                        variable:
                                                            type: string
                                                        property:
                                                            type: string
                                                        required:
                                                            type: boolean
                    links:
                        GetPoll:
                            operationId: poll.get
                            parameters:
                                poll_uuid: '$response.body#/poll_uuid'
                            description: >-
                                The `id` value returned in the response can be used as the `poll_uuid`
                                parameter in `GET /polls/{poll_uuid}`. 
                    description: Poll collection response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: polls.list
            summary: >-
                Get all public polls, and if the current session has a user attached, the polls where the user
                has accesss
    '/polls/{poll_uuid}':
        get:
            tags:
                - Poll
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Poll
                                            id:
                                                $ref: '#/components/schemas/Poll.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Poll.Read'
                                            relationships:
                                                type: object
                                                properties:
                                                    tracks:
                                                        type: array
                                                        items:
                                                            type: object
                                                            properties:
                                                                type:
                                                                    type: string
                                                                    example: Track
                                                                id:
                                                                    type: string
                                                                    example: a9269c43-94dc-4b6a-9e97-f8871d2b630b
                                    included:
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Track.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read.Jsonld'
                    description: Poll resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: poll.get
            summary: Get information about one Poll
        put:
            requestBody:
                description: The updated Poll resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Poll.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Poll
                                        id:
                                            $ref: '#/components/schemas/Poll.UUID'
                                        attributes:
                                            $ref: '#/components/schemas/Poll.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Poll.Write'
                required: true
            tags:
                - Poll
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Poll
                                            id:
                                                $ref: '#/components/schemas/Poll.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Poll.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Poll.Read.Jsonld'
                    description: Poll resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: poll.put
            summary: Modify the configuration of one Poll
            description: >-
                If the fields: name, description, spotify_playlist_public or spotify_playlist_collaborative
                are modified, an async task is called for sync those options in Spotify with the playlist
                stored in the field spotify_playlist_uri
        delete:
            tags:
                - Poll
            responses:
                '204':
                    $ref: '#/components/responses/Resource.Deleted'
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: poll.delete
            summary: Delete one Poll
        parameters:
            -
                name: poll_uuid
                description: Poll UUID
                schema:
                    $ref: '#/components/schemas/Poll.UUID'
                in: path
                required: true
    '/polls/{poll_uuid}/tracks':
        post:
            requestBody:
                description: The new Track resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Track.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Track
                                        attributes:
                                            $ref: '#/components/schemas/Track.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Track.Write'
                required: true
            tags:
                - Poll
            responses:
                '201':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Track.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Track
                                            id:
                                                $ref: '#/components/schemas/Track.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Track.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Track.Read.Jsonld'
                    links:
                        ModifyTrack:
                            operationId: track.put
                            parameters:
                                track_uuid: '$response.body#/track_uuid'
                            description: >-
                                The `id` value returned in the response can be used as the `track_uuid`
                                parameter in `POST /polls/{poll_uuid}/tracks/{track_uuid}`. 
                        DeleteTrack:
                            operationId: track.delete
                            parameters:
                                track_uuid: '$response.body#/track_uuid'
                            description: >-
                                The `id` value returned in the response can be used as the `track_uuid`
                                parameter in `DELETE /polls/{poll_uuid}/tracks/{track_uuid}`.
                    description: Track resource created
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: track.create
            summary: Add one new Track into one Poll
            description: >-
                An async task is called for add this track in the Spotify playlist stored in the field
                spotify_playlist_uri
        parameters:
            -
                name: poll_uuid
                description: Poll UUID
                schema:
                    $ref: '#/components/schemas/Poll.UUID'
                in: path
                required: true
    '/polls/{poll_uuid}/tracks/{track_uuid}':
        put:
            requestBody:
                description: The updated Track resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Track.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Track
                                        id:
                                            $ref: '#/components/schemas/Track.UUID'
                                        attributes:
                                            $ref: '#/components/schemas/Track.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Track.Write'
                required: true
            tags:
                - Poll
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Track.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Track
                                            id:
                                                $ref: '#/components/schemas/Track.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Track.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Track.Read.Jsonld'
                    description: Poll resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: track.put
            summary: Modify the information about one Track
            description: >-
                If the field spotify_uri is modified, an async task is called for change the song also in
                Spotify using the playlist stored in the field spotify_playlist_uri
        delete:
            tags:
                - Poll
            responses:
                '204':
                    $ref: '#/components/responses/Resource.Deleted'
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: track.delete
            summary: Delete one Track from a Poll
            description: >-
                When one track is removed, an async task is called for remove the song also in Spotify using
                the playlist stored in the field spotify_playlist_uri
        parameters:
            -
                name: poll_uuid
                description: Poll UUID
                schema:
                    $ref: '#/components/schemas/Poll.UUID'
                in: path
                required: true
            -
                name: track_uuid
                description: Track UUID
                schema:
                    $ref: '#/components/schemas/Track.UUID'
                in: path
                required: true
    '/polls/{poll_uuid}/tracks/{track_uuid}/rate':
        put:
            requestBody:
                description: The Rate resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Rate.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Rate
                                        attributes:
                                            $ref: '#/components/schemas/Rate.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Rate.Write'
                required: true
            tags:
                - Poll
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Rate.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Rate
                                            attributes:
                                                $ref: '#/components/schemas/Rate.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Rate.Read.Jsonld'
                    description: Rate resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: rate.put
            summary: Rate one Track
        delete:
            tags:
                - Poll
            responses:
                '204':
                    description: Rate resource deleted
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: rate.delete
            summary: Delete the rate of one Track
        parameters:
            -
                name: poll_uuid
                description: Poll UUID
                schema:
                    $ref: '#/components/schemas/Poll.UUID'
                in: path
                required: true
            -
                name: track_uuid
                description: Track UUID
                schema:
                    $ref: '#/components/schemas/Track.UUID'
                in: path
                required: true
    /register:
        summary: >-
            Create one new user in the platform. A GET request must be done for a valid CSRF token before the
            POST request.
        get:
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CSRF'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: CSRF
                                            id:
                                                $ref: '#/components/schemas/CSRF'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - csrf
                                type: object
                                properties:
                                    '@context':
                                        type: string
                                        readOnly: true
                                    '@id':
                                        type: string
                                        readOnly: true
                                    '@type':
                                        type: string
                                        readOnly: true
                                    csrf:
                                        $ref: '#/components/schemas/CSRF'
                    description: CSRF Token
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            operationId: user.create.csrf
            summary: Get one valid CSRF token
            description: >-
                This is the first mandatory call, in order to do a valid call to POST /register with a CSRF
                token
        post:
            requestBody:
                description: The new User resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/User.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: User.Write
                                        attributes:
                                            $ref: '#/components/schemas/User.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/User.Write'
                required: true
            tags:
                - User
            responses:
                '201':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: User.Read
                                            attributes:
                                                $ref: '#/components/schemas/User.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/User.Read.Jsonld'
                    links:
                        GetUser:
                            operationId: user.get
                            parameters:
                                id: '$response.body#/id'
                            description: >-
                                The `id` value returned in the response can be used as the `id` parameter in
                                `GET /users/{user_uuid}`.
                    description: User created
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    csrf: []
            operationId: user.create
            summary: Create one new user in the platform
    /login:
        summary: >-
            This must be the first call to the API in order to obtain a valid JWT token for call all the other
            endpoints
        get:
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CSRF'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: CSRF
                                            id:
                                                $ref: '#/components/schemas/CSRF'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - csrf
                                type: object
                                properties:
                                    '@context':
                                        type: string
                                        readOnly: true
                                    '@id':
                                        type: string
                                        readOnly: true
                                    '@type':
                                        type: string
                                        readOnly: true
                                    csrf:
                                        $ref: '#/components/schemas/CSRF'
                    description: CSRF Token
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            operationId: session.create.csrf
            summary: Get one valid CSRF token
            description: 'This is the first mandatory call, in order to do a valid call to POST /login with a CSRF token'
        post:
            requestBody:
                description: 'Optional, if provided must be an object with username & password keys.'
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Login.Request'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Login.Request
                                        attributes:
                                            $ref: '#/components/schemas/Login.Request'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Login.Request'
            tags:
                - User
            responses:
                '201':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Login.Response'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Login.Response
                                            attributes:
                                                $ref: '#/components/schemas/Login.Response'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Login.Response.Jsonld'
                    links:
                        GetSessionItem:
                            operationId: session.get
                            parameters:
                                id: '$response.body#/session_uuid'
                            description: >-
                                The `session_uuid` value returned in the response can be used as the
                                `session_uuid` parameter in `GET /sessions/{session_uuid}`.
                    description: Session resource created
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    csrf: []
            operationId: session.create
            summary: >-
                If username & password is provided, try to authenticate an user to the api. Otherwise a anon
                session will be created.
    '/sessions/{session_uuid}':
        get:
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Session.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Session
                                            id:
                                                $ref: '#/components/schemas/Session.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Session.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Session.Read.Jsonld'
                    description: Session resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: session.get
            summary: Retrieves a Session resource.
        put:
            requestBody:
                description: The updated Session resource
                content:
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Session.Modify'
                    application/json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Session.Modify
                                        attributes:
                                            $ref: '#/components/schemas/Session.Modify'
                    application/vnd.api+json:
                        schema:
                            $ref: '#/components/schemas/Session.Modify'
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Session.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Session
                                            id:
                                                $ref: '#/components/schemas/Session.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Session.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Session.Read.Jsonld'
                    description: Session resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: session.put
            summary: Replaces the name of the Session.
        parameters:
            -
                name: session_uuid
                description: Session UUID
                schema:
                    $ref: '#/components/schemas/Session.UUID'
                in: path
                required: true
    '/users/{user_uuid}':
        get:
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: User
                                            id:
                                                $ref: '#/components/schemas/User.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/User.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/User.Read.Jsonld'
                    description: User resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: user.get
            summary: Retrieves a User
        put:
            requestBody:
                description: Only the updated information of the User.
                content:
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/User.Modify'
                    application/json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: User.Modify
                                        attributes:
                                            $ref: '#/components/schemas/User.Modify'
                    application/vnd.api+json:
                        schema:
                            $ref: '#/components/schemas/User.Modify'
                required: true
            tags:
                - User
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: User
                                            id:
                                                $ref: '#/components/schemas/User.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/User.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/User.Read.Jsonld'
                    description: User resource updated
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: user.put
            summary: Update the user information
        parameters:
            -
                name: user_uuid
                description: User UUID
                schema:
                    $ref: '#/components/schemas/User.UUID'
                in: path
                required: true
    /groups:
        summary: Operations with a Groups of Users
        get:
            tags:
                - Group
            parameters:
                -
                    $ref: '#/components/parameters/pageParam'
                -
                    $ref: '#/components/parameters/sortGroupsParam'
                -
                    $ref: '#/components/parameters/filterGroupsParam'
                -
                    $ref: '#/components/parameters/includeGroupsParam'
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Group.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                type:
                                                    type: string
                                                    example: Group
                                                id:
                                                    $ref: '#/components/schemas/Group.UUID'
                                                attributes:
                                                    $ref: '#/components/schemas/Group.Read'
                                                relationships:
                                                    type: object
                                                    properties:
                                                        polls:
                                                            type: array
                                                            items:
                                                                type: object
                                                                properties:
                                                                    type:
                                                                        type: string
                                                                        example: polls
                                                                    id:
                                                                        type: string
                                                                        example: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                                                        members:
                                                            type: array
                                                            items:
                                                                type: object
                                                                properties:
                                                                    type:
                                                                        type: string
                                                                        example: members
                                                                    id:
                                                                        type: string
                                                                        example: b85dc364-a646-4230-9f52-adfd45561b20
                                    included:
                                        type: array
                                        items:
                                            anyOf:
                                                -
                                                    $ref: '#/components/schemas/Poll.Read'
                                                -
                                                    $ref: '#/components/schemas/Member.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                required:
                                    - 'hydra:member'
                                type: object
                                properties:
                                    'hydra:member':
                                        type: array
                                        items:
                                            $ref: '#/components/schemas/Group.Read.Jsonld'
                                    'hydra:totalItems':
                                        minimum: 0
                                        type: integer
                                    'hydra:view':
                                        type: object
                                        properties:
                                            '@id':
                                                format: iri-reference
                                                type: string
                                            '@type':
                                                type: string
                                            'hydra:first':
                                                format: iri-reference
                                                type: string
                                            'hydra:last':
                                                format: iri-reference
                                                type: string
                                            'hydra:next':
                                                format: iri-reference
                                                type: string
                                    'hydra:search':
                                        type: object
                                        properties:
                                            '@type':
                                                type: string
                                            'hydra:template':
                                                type: string
                                            'hydra:variableRepresentation':
                                                type: string
                                            'hydra:mapping':
                                                type: array
                                                items:
                                                    type: object
                                                    properties:
                                                        '@type':
                                                            type: string
                                                        variable:
                                                            type: string
                                                        property:
                                                            type: string
                                                        required:
                                                            type: boolean
                    description: Group collection response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: groups.list
            summary: >-
                Return all public groups, and if the current session has an user attached, the groups of the
                current user.
        post:
            requestBody:
                description: The new Group resource
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Group.Write'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Group
                                        attributes:
                                            $ref: '#/components/schemas/Group.Write'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Group.Write'
                required: true
            tags:
                - Group
            responses:
                '201':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: object
                                        properties:
                                            type:
                                                type: string
                                                example: Group
                                            id:
                                                $ref: '#/components/schemas/Group.UUID'
                                            attributes:
                                                $ref: '#/components/schemas/Group.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Group.Read.Jsonld'
                    links:
                        GetGroupItem:
                            operationId: group.get
                            parameters:
                                id: '$response.body#/id'
                            description: >-
                                The `id` value returned in the response can be used as the `group_uuid`
                                parameter in `GET /groups/{group_uuid}`.
                    description: Group resource created
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            operationId: group.create
            summary: Create new Group
    /spotify:
        summary: Search information in Spotify
        description: >-
            Get Spotify Catalog information about albums, artists, playlists, tracks, shows or episodes that
            match a keyword string.
        post:
            requestBody:
                description: Object with the information to be used as a search
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Spotify.Search'
                    application/vnd.api+json:
                        schema:
                            required:
                                - data
                            properties:
                                data:
                                    type: object
                                    properties:
                                        type:
                                            type: string
                                            example: Spotify.Search
                                        attributes:
                                            $ref: '#/components/schemas/Spotify.Search'
                    application/ld+json:
                        schema:
                            $ref: '#/components/schemas/Spotify.Search'
                required: true
            tags:
                - Polls
            responses:
                '200':
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Spotify.Read'
                        application/vnd.api+json:
                            schema:
                                required:
                                    - jsonapi
                                    - data
                                    - meta
                                type: object
                                properties:
                                    jsonapi:
                                        $ref: '#/components/schemas/Jsonapi.Version'
                                    data:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                type:
                                                    type: string
                                                    example: Track
                                                id:
                                                    $ref: '#/components/schemas/Spotify.URI'
                                                attributes:
                                                    $ref: '#/components/schemas/Spotify.Read'
                                    meta:
                                        $ref: '#/components/schemas/Jsonapi.Meta'
                        application/ld+json:
                            schema:
                                $ref: '#/components/schemas/Spotify.Read.Jsonld'
                    description: Session resource response
                '400':
                    $ref: '#/components/responses/Bad.Request'
                '401':
                    $ref: '#/components/responses/Unauthorized'
                '500':
                    $ref: '#/components/responses/Internal.Server.Error'
            security:
                -
                    bearerAuth: []
            operationId: spotify.search
            summary: Search information in Spotify
            description: >-
                Get Spotify Catalog information about albums, artists, playlists, tracks, shows or episodes
                that match a keyword string.
components:
    schemas:
        CSRF:
            description: >-
                Cross-site request forgery, also known as one-click attack or session riding and abbreviated
                as CSRF or XSRF, is a type of malicious exploit of a website where unauthorized commands are
                transmitted from a user that the web application trusts. There are many ways in which a
                malicious website can transmit such commands; specially-crafted image tags, hidden forms, and
                JavaScript XMLHttpRequests, for example, can all work without the user's interaction or even
                knowledge. Unlike cross-site scripting (XSS), which exploits the trust a user has for a
                particular site, CSRF exploits the trust that a site has in a user's browser.
            type: string
            example: QmVPVUNxRit5WThmUjJBMVJGNmxpZz09
        UUID:
            description: >-
                A universally unique identifier (UUID) is a 128-bit number used to identify information in
                computer systems.
            pattern: '[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}'
            type: string
            example: 9fea1130-479a-44be-bcf6-d10030b76c4b
        JWT:
            description: >-
                JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained
                way for securely transmitting information between parties as a JSON object.
            pattern: '^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$'
            type: string
            example: >-
                eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIn0.2gSBz9EOsQRN9I-3iSxJoFt7NtgV6Rm0IL6a8CAwl3Q
        Login.Request:
            title: Request of POST /login
            type: object
            properties:
                username:
                    type: string
                password:
                    format: password
                    type: string
            example:
                username: xxx
                password: xxx
        Login.Response:
            title: Response of POST /login
            required:
                - JWT
                - session
            type: object
            properties:
                JWT:
                    $ref: '#/components/schemas/JWT'
                session:
                    $ref: '#/components/schemas/Session.Read'
                user:
                    $ref: '#/components/schemas/User.Read'
                    description: 'Optional, only if username & password are provided and valid.'
            example:
                jwt: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIn0.2gSBz9EOsQRN9I-3iSxJoFt7NtgV6Rm0IL6a8CAwl3Q
                session:
                    id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                    created-at: '2020-02-13T13:35:20-05:00'
                    name: Leninux
        Error:
            description: Describe an error in the platform
            required:
                - title
            type: object
            properties:
                status:
                    description: http code
                    type: integer
                title:
                    description: Identify a general type of problem
                    type: string
                detail:
                    description: Description of the error
                    type: string
            example:
                status: 400
                title: Invalid Attribute
                detail: First name must contain at least three characters.
        Errors:
            description: Array of errors
            required:
                - errors
            type: object
            properties:
                errors:
                    type: array
                    items:
                        $ref: '#/components/schemas/Error'
        User.Write:
            description: Create a User of the platform
            required:
                - username
                - email
                - password
            type: object
            properties:
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
                enabled:
                    description: Flag indicating if the user is active
                    type: boolean
                language:
                    description: Language of the app
                    enum:
                        - en
                        - es
                        - ca
                    type: string
                theme:
                    description: Theme of the app
                    type: string
                password:
                    format: password
                    description: The password of the user in plain text
                    type: string
                public_email:
                    description: Is the email of this user visible to anyone?
                    type: boolean
                public_visibility:
                    description: Is this user visible to anyone?
                    type: boolean
            externalDocs:
                url: 'https://schema.org/Person'
        Session.Modify:
            description: Modify a User in the platform
            type: object
            properties:
                name:
                    description: >-
                        The name of the user in this session, only used when this session is not attached to a
                        user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/agent'
            externalDocs:
                url: 'https://schema.org/AuthorizeAction'
            example:
                name: Leninux
        Jsonapi.Version:
            description: String indicating the highest JSON API version supported
            required:
                - version
            type: object
            properties:
                version:
                    description: String indicating the highest JSON API version supported
                    type: string
            example:
                version: '1.0'
        Poll.Write:
            description: Poll / Election / Referendum
            type: object
            properties:
                name:
                    description: 'The name of the poll, this value is also the name showed in the Spotify playlist'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                description:
                    description: >-
                        The description of the poll, this value is also the description showed in the Spotify
                        playlist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                spotify_playlist_public:
                    description: 'If true the playlist will be public, if false it will be private.'
                    type: boolean
                spotify_playlist_collaborative:
                    description: |-
                        If true, the playlist will become collaborative and other users
                        will be able to modify the playlist in their Spotify client.
                        Note: You can only set collaborative to true on non-public playlists.
                    type: boolean
                spotify_playlist_uri:
                    description: >-
                        Spotify playlist identifier where the Poll is located, prepend "spotify:playlist:" for
                        a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_winner_uri:
                    description: >-
                        Spotify playlist identifier where the winner of the Poll will be saved, prepend
                        "spotify:playlist:" for a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_historic_uri:
                    description: >-
                        Spotify playlist identifier where all the songs of the Poll will be saved when is Poll
                        is finished, prepend "spotify:playlist:" for a complete valid spotify uri.
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                start_date:
                    format: date-time
                    description: The start date of this poll
                    type: string
                    externalDocs:
                        url: 'http://schema.org/datePublished'
                end_date:
                    format: date-time
                    description: 'The end date of this poll, only used if restart_date is empty.'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/expires'
                restart_date:
                    description: |-
                        String with a crontab style restart command. If setted, this poll is never closed,
                        the winner song goes to winner playlist and the others to the historic playlist.
                    type: string
                public_visibility:
                    description: Is this poll visible to anyone or only to the members of the group?
                    type: boolean
                public_votes:
                    description: Are the votes public meanwhile the poll is active?
                    type: boolean
                anon_can_vote:
                    description: Can anyone vote into this poll or only the members of the group?
                    type: boolean
                who_can_add_track:
                    nullable: true
                    description: |-
                        Who can add tracks into this poll?
                        null => nobody, 0 => owner, 1 => admin, 2 => member, 3 => invited, 4 => anyone
                    maximum: 4
                    minimum: 0
                    type: integer
                anon_votes_max_rating:
                    description: All the ratings given by a anonymous user to this poll can't excede this number
                    minimum: 0
                    type: integer
                user_votes_max_rating:
                    description: All the ratings given by a member to this poll can't excede this number
                    minimum: 0
                    type: integer
                multiple_user_tracks:
                    description: Can one user add more than one track to this poll?
                    type: boolean
                multiple_anon_tracks:
                    description: Can an anonymous user add more than one track to this poll?
                    type: boolean
            externalDocs:
                url: 'https://schema.org/Question'
            example:
                name: Weekly Public Playlist
                description: 'Public playlist, restarted weekly'
                spotify_playlist_public: true
                spotify_playlist_collaborative: false
                spotify_playlist_uri: 0yRBerq6d7SgJZk77uNx5l
                spotify_playlist_winner_uri: 7FuWGgXiRtjo4VIeTbe5Ph
                spotify_playlist_historic_uri: 7j8RuavEdsKTi06x786QMe
                start_date: '2020-02-13T13:35:20-05:00'
                end_date: '2020-03-13T13:35:20-05:00'
                restart_date: 0 0 * * 1
                public_visibility: true
                public_votes: true
                anon_can_vote: true
                who_can_add_track: 4
                anon_votes_max_rating: 1
                user_votes_max_rating: 3
                multiple_user_tracks: false
                multiple_anon_tracks: false
        Jsonapi.Meta:
            description: Non-standard meta-information
            type: object
            properties:
                timestamp:
                    format: date-time
                    description: 'Timestamp when server generated the response '
                    type: string
                hash:
                    description: Request unique identifier
                    type: string
            example:
                timestamp: '2020-02-13T13:35:20-05:00'
                hash: e6d4d57162ae0f220c8649ae50a2b79fd1cb2c60
        Member.Write:
            description: Modify the rol of an User in a Group
            required:
                - rol
            type: object
            properties:
                rol:
                    description: 'Rol of the user in this group: OWNER = 0;ADMIN = 1;MEMBER = 2;INVITED = 3;'
                    maximum: 3
                    minimum: 0
                    type: integer
            externalDocs:
                url: 'https://schema.org/ProgramMembership'
            example:
                rol: 3
        Page:
            description: The page number
            default: 1
            type: integer
            example: 1
        Track.UUID:
            $ref: '#/components/schemas/UUID'
            description: Track unique identifier
            example: a9269c43-94dc-4b6a-9e97-f8871d2b630b
        Session.UUID:
            $ref: '#/components/schemas/UUID'
            description: Session unique identifier
            example: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
        Poll.UUID:
            $ref: '#/components/schemas/UUID'
            description: Poll unique identifier
            example: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
        Group.UUID:
            $ref: '#/components/schemas/UUID'
            description: Group unique identifier
            example: a9894239-905a-4a14-b43f-5f116b9e0532
        User.UUID:
            $ref: '#/components/schemas/UUID'
            description: User unique identifier
            example: b85dc364-a646-4230-9f52-adfd45561b20
        User.Read:
            description: '@ToDo: Add sessions?'
            required:
                - id
                - username
                - email
                - created_at
                - updated_at
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/UUID'
                    description: User unique identifier
                    readOnly: true
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
                language:
                    description: Language of the app
                    enum:
                        - en
                        - es
                        - ca
                theme:
                    description: Theme of the app
                    type: string
                public_email:
                    description: Is the email of this user visible to anyone?
                    type: boolean
                public_visibility:
                    description: Is this user visible to anyone?
                    type: boolean
                created_at:
                    format: date-time
                    description: The creation date of this user
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/startTime'
                updated_at:
                    format: date-time
                    description: The last modification date of this user
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/dateModified'
            externalDocs:
                url: 'https://schema.org/Person'
        User.Read.Jsonld:
            description: ''
            required:
                - username
                - enabled
                - email
                - id
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/UUID'
                    description: User unique identifier
                    readOnly: true
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
                enabled:
                    description: Flag indicating if the user is active
                    type: boolean
                language:
                    description: Language of the app
                    enum:
                        - en
                        - es
                        - ca
                theme:
                    description: Theme of the app
                    type: string
                created_at:
                    format: date-time
                    description: The creation date of this user
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/startTime'
                public_email:
                    description: Is the email of this user visible to anyone?
                    type: boolean
                public_visibility:
                    description: Is this user visible to anyone?
                    type: boolean
                updated_at:
                    format: date-time
                    description: The last modification date of this user
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/dateModified'
            externalDocs:
                url: 'https://schema.org/Person'
        Session.Read.Jsonld:
            description: ''
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/UUID'
                    description: Session unique identifier
                    readOnly: true
                name:
                    description: >-
                        The name of the user in this session, only used when this session is not attached to a
                        user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/agent'
                created_at:
                    format: date-time
                    description: The creation date of this session
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/startTime'
            externalDocs:
                url: 'https://schema.org/AuthorizeAction'
        Session.Read:
            description: 'Current session, is mandatory in order to use the API.'
            required:
                - id
                - created_at
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/UUID'
                    description: Session unique identifier
                    readOnly: true
                name:
                    description: >-
                        The name of the user in this session, only used when this session is not attached to a
                        user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/agent'
                created_at:
                    format: date-time
                    description: The creation date of this session
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/startTime'
            externalDocs:
                url: 'https://schema.org/AuthorizeAction'
            example:
                id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                created-at: '2020-02-13T13:35:20-05:00'
                name: Leninux
        Poll.Read.Jsonld:
            description: Poll / Election / Referendum
            required:
                - id
                - group_id
                - name
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: Poll unique identifier
                    readOnly: true
                name:
                    description: 'The name of the poll, this value is also the name showed in the Spotify playlist'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                description:
                    description: >-
                        The description of the poll, this value is also the description showed in the Spotify
                        playlist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                spotify_playlist_images:
                    description: Array with all the images provided by Spotify
                    type: array
                    items:
                        type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/image'
                spotify_playlist_public:
                    description: 'If true the playlist will be public, if false it will be private.'
                    type: boolean
                spotify_playlist_collaborative:
                    description: |-
                        If true, the playlist will become collaborative and other users
                        will be able to modify the playlist in their Spotify client.
                        Note: You can only set collaborative to true on non-public playlists.
                    type: boolean
                spotify_playlist_uri:
                    description: >-
                        Spotify playlist identifier where the Poll is located, prepend "spotify:playlist:" for
                        a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_winner_uri:
                    description: >-
                        Spotify playlist identifier where the winner of the Poll will be saved, prepend
                        "spotify:playlist:" for a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_historic_uri:
                    description: >-
                        Spotify playlist identifier where all the songs of the Poll will be saved when is Poll
                        is finished, prepend "spotify:playlist:" for a complete valid spotify uri.
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                start_date:
                    format: date-time
                    description: The start date of this poll
                    type: string
                    externalDocs:
                        url: 'http://schema.org/datePublished'
                end_date:
                    format: date-time
                    description: 'The end date of this poll, only used if restart_date is empty.'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/expires'
                restart_date:
                    description: |-
                        String with a crontab style restart command. If setted, this poll is never closed,
                        the winner song goes to winner playlist and the others to the historic playlist.
                    type: string
                public_visibility:
                    description: Is this poll visible to anyone or only to the members of the group?
                    type: boolean
                public_votes:
                    description: Are the votes public meanwhile the poll is active?
                    type: boolean
                anon_can_vote:
                    description: Can anyone vote into this poll or only the members of the group?
                    type: boolean
                who_can_add_track:
                    nullable: true
                    description: |-
                        Who can add tracks into this poll?
                        null => nobody, 0 => owner, 1 => admin, 2 => member, 3 => invited, 4 => anyone
                    maximum: 4
                    minimum: 0
                    type: integer
                anon_votes_max_rating:
                    description: All the ratings given by a anonymous user to this poll can't excede this number
                    minimum: 0
                    type: integer
                user_votes_max_rating:
                    description: All the ratings given by a member to this poll can't excede this number
                    minimum: 0
                    type: integer
                multiple_user_tracks:
                    description: Can one user add more than one track to this poll?
                    type: boolean
                multiple_anon_tracks:
                    description: Can an anonymous user add more than one track to this poll?
                    type: boolean
                group_id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: The Group Uuid where this Poll belong
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/hostingGroup'
                num_tracks:
                    description: Number of tracks of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
                tracks:
                    description: Available tracks for this poll
                    type: array
                    items:
                        $ref: '#/components/schemas/Track.Read'
                    readOnly: true
                num_rates:
                    description: Number of rates of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
                rates:
                    description: Available rates for this poll
                    type: array
                    items:
                        $ref: '#/components/schemas/Rate.Read'
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Question'
            example:
                id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                name: Weekly Public Playlist
                description: 'Public playlist, restarted weekly'
                spotify_playlist_images:
                    - 'https://pl.scdn.co/images/pl/default/1a165c7ee8ad6beeb36ceae02e5ca465129a7342'
                    - 'https://pl.scdn.co/images/pl/default/59a801c4bb5bdfa9dd690de51d2aa904f7809f58'
                spotify_playlist_public: true
                spotify_playlist_collaborative: false
                spotify_playlist_uri: 0yRBerq6d7SgJZk77uNx5l
                spotify_playlist_winner_uri: 7FuWGgXiRtjo4VIeTbe5Ph
                spotify_playlist_historic_uri: 7j8RuavEdsKTi06x786QMe
                start_date: '2020-02-13T13:35:20-05:00'
                end_date: '2020-03-13T13:35:20-05:00'
                restart_date: 0 0 * * 1
                public_visibility: true
                public_votes: true
                anon_can_vote: true
                who_can_add_track: 4
                anon_votes_max_rating: 1
                user_votes_max_rating: 3
                multiple_user_tracks: false
                multiple_anon_tracks: false
                group_id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                num_tracks: 2
                tracks:
                    -
                        id: a9269c43-94dc-4b6a-9e97-f8871d2b630b
                        artist: Lgrimas de Sangre
                        name: Rojos y separatistas
                        proposal_date: '2020-02-13T15:35:20-05:00'
                        spotify_uri: 1ECc1EhfkRx08o8uIwYOxW
                        spotify_images:
                            - 'https://i.scdn.co/image/ab67616d0000b273ae0fe33eda83f26bd0fdd956'
                        youtube_uri: t67NhxJhrUU
                    -
                        id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                        artist: Queen
                        name: I Was Born To Love You - 2011 Remaster
                        proposal_date: '2020-02-14T13:35:20-05:00'
                        spotify_uri: 7DtdhIJlSSOaAFNk4JdXCb
                        spotify_images:
                            - 'https://i.scdn.co/image/58476b3d9c1690d25f356a5c7f4280499a2624b7'
                num_rates: 1
                rates:
                    -
                        rating: 3
                        created_at: '2020-02-14T13:35:20-05:00'
                        poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                        track_id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                        session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                        user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Rate.Read.Jsonld:
            description: Vote / Rating
            required:
                - rating
                - poll_id
                - track_id
                - session_id
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                rating:
                    description: The rating of this vote
                    type: integer
                    externalDocs:
                        url: 'http://schema.org/ratingValue'
                created_at:
                    format: date-time
                    description: The creation date of this vote
                    type: string
                    readOnly: true
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll this vote is about
                    readOnly: true
                track_id:
                    $ref: '#/components/schemas/Track.UUID'
                    description: The track this vote is about
                    readOnly: true
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The session who emit this vote, mandatory'
                    readOnly: true
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: 'The user who emit this vote, optional'
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Rating'
            example:
                rating: 3
                created_at: '2020-02-13T13:35:20-05:00'
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                track_id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Rate.Read:
            description: Vote / Rating
            required:
                - rating
                - poll_id
                - track_id
                - session_id
            type: object
            properties:
                rating:
                    description: The rating of this vote
                    type: integer
                    externalDocs:
                        url: 'http://schema.org/ratingValue'
                created_at:
                    format: date-time
                    description: The creation date of this vote
                    type: string
                    readOnly: true
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll this vote is about
                    readOnly: true
                track_id:
                    $ref: '#/components/schemas/Track.UUID'
                    description: The track this vote is about
                    readOnly: true
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The session who emit this vote, mandatory'
                    readOnly: true
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: 'The user who emit this vote, optional'
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Rating'
            example:
                rating: 3
                created_at: '2020-02-13T13:35:20-05:00'
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                track_id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Rate.Write:
            description: Vote / Rating
            required:
                - rating
            type: object
            properties:
                rating:
                    description: The rating of this vote
                    type: integer
                    externalDocs:
                        url: 'http://schema.org/ratingValue'
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll this vote is about
                track_id:
                    $ref: '#/components/schemas/Track.UUID'
                    description: The track this vote is about
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The session who emit this vote, mandatory'
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: 'The user who emit this vote, optional'
            externalDocs:
                url: 'https://schema.org/Rating'
            example:
                rating: 3
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                track_id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Track.Write:
            description: Track / Music or Video recording
            required:
                - artist
                - name
            type: object
            properties:
                artist:
                    description: The name of the artist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/byArtist'
                name:
                    description: The name of the track
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                spotify_uri:
                    description: Spotify track identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                youtube_uri:
                    description: Youtube resource identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll where track is participating
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The Session who suggest this Track, used in anonymous sessions'
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: The User who suggest this Track
            externalDocs:
                url: 'https://schema.org/MusicRecording'
            example:
                artist: Queen
                name: I Was Born To Love You - 2011 Remaster
                spotify_uri: 7DtdhIJlSSOaAFNk4JdXCb
                spotify_images:
                    - 'https://i.scdn.co/image/58476b3d9c1690d25f356a5c7f4280499a2624b7'
                youtube_uri: vNhhAEupU4g
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Track.Read:
            description: Track / Music or Video recording
            required:
                - id
                - artist
                - name
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/Track.UUID'
                    description: Track unique identifier
                    readOnly: true
                artist:
                    description: The name of the artist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/byArtist'
                name:
                    description: The name of the track
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                proposal_date:
                    format: date-time
                    description: The proposal date of this track
                    type: string
                    readOnly: true
                spotify_uri:
                    description: Spotify track identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_images:
                    description: All the images from the Spotify track
                    type: array
                    items:
                        type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/image'
                youtube_uri:
                    description: Youtube resource identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll where track is participating
                    readOnly: true
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The Session who suggest this Track, used in anonymous sessions'
                    readOnly: true
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: The User who suggest this Track
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/MusicRecording'
            example:
                id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                artist: Queen
                name: I Was Born To Love You - 2011 Remaster
                proposal_date: '2020-02-14T13:35:20-05:00'
                spotify_uri: 7DtdhIJlSSOaAFNk4JdXCb
                spotify_images:
                    - 'https://i.scdn.co/image/58476b3d9c1690d25f356a5c7f4280499a2624b7'
                youtube_uri: vNhhAEupU4g
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Track.Read.Jsonld:
            description: Track / Music or Video recording
            required:
                - id
                - artist
                - name
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/Track.UUID'
                    description: Track unique identifier
                    readOnly: true
                artist:
                    description: The name of the artist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/byArtist'
                name:
                    description: The name of the track
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                proposal_date:
                    format: date-time
                    description: The proposal date of this track
                    type: string
                    readOnly: true
                spotify_uri:
                    description: Spotify track identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_images:
                    description: All the images from the Spotify track
                    type: array
                    items:
                        type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/image'
                youtube_uri:
                    description: Youtube resource identifier
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                poll_id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: The poll where track is participating
                    readOnly: true
                session_id:
                    $ref: '#/components/schemas/Session.UUID'
                    description: 'The Session who suggest this Track, used in anonymous sessions'
                    readOnly: true
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: The User who suggest this Track
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/MusicRecording'
            example:
                id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                artist: Queen
                name: I Was Born To Love You - 2011 Remaster
                proposal_date: '2020-02-14T13:35:20-05:00'
                spotify_uri: 7DtdhIJlSSOaAFNk4JdXCb
                spotify_images:
                    - 'https://i.scdn.co/image/58476b3d9c1690d25f356a5c7f4280499a2624b7'
                youtube_uri: vNhhAEupU4g
                poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
        User.Modify:
            description: ''
            type: object
            properties:
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
                enabled:
                    description: Flag indicating if the user is active
                    type: boolean
                language:
                    description: Language of the app
                    enum:
                        - en
                        - es
                        - ca
                    type: string
                theme:
                    description: Theme of the app
                    type: string
                password:
                    format: password
                    description: The password of the user in plain text
                    type: string
                public_email:
                    description: Is the email of this user visible to anyone?
                    type: boolean
                public_visibility:
                    description: Is this user visible to anyone?
                    type: boolean
            externalDocs:
                url: 'https://schema.org/Person'
        Errors.Jsonld:
            description: '@ToDo'
            required:
                - errors
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                errors:
                    $ref: '#/components/schemas/Errors'
                    description: ''
            example:
                '@context':
                    errors:
                        error:
                            '@type': '@id'
                errors:
                    -
                        status: 400
                        title: Invalid Attribute
                        detail: First name must contain at least three characters.
        Login.Response.Jsonld:
            description: ''
            required:
                - JWT
                - session
                - context
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                JWT:
                    $ref: '#/components/schemas/JWT'
                session:
                    $ref: '#/components/schemas/Session.Read'
                user:
                    $ref: '#/components/schemas/User.Read'
                    description: 'Optional, only if username & password are provided and valid.'
            example:
                '@context':
                    jwt:
                        '@type': '@id'
                    session:
                        '@type': '@id'
                jwt: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIn0.2gSBz9EOsQRN9I-3iSxJoFt7NtgV6Rm0IL6a8CAwl3Q
                session:
                    id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                    created_at: '2020-02-13T13:35:20-05:00'
                    name: Leninux
        User.List:
            description: User Subresource
            required:
                - id
                - username
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/UUID'
                    description: User unique identifier
                    readOnly: true
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
            externalDocs:
                url: 'https://schema.org/Person'
            example:
                id: b85dc364-a646-4230-9f52-adfd45561b20
                username: Leninux
                email: test@test.com
        Poll.Read:
            description: Poll / Election / Referendum
            required:
                - name
                - id
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: Poll unique identifier
                    readOnly: true
                group_id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: The Group Uuid where this Poll belong
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/hostingGroup'
                name:
                    description: 'The name of the poll, this value is also the name showed in the Spotify playlist'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                description:
                    description: >-
                        The description of the poll, this value is also the description showed in the Spotify
                        playlist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                spotify_playlist_images:
                    description: Array with all the images provided by Spotify
                    type: array
                    items:
                        type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/image'
                spotify_playlist_public:
                    description: 'If true the playlist will be public, if false it will be private.'
                    type: boolean
                spotify_playlist_collaborative:
                    description: |-
                        If true, the playlist will become collaborative and other users
                        will be able to modify the playlist in their Spotify client.
                        Note: You can only set collaborative to true on non-public playlists.
                    type: boolean
                spotify_playlist_uri:
                    description: >-
                        Spotify playlist identifier where the Poll is located, prepend "spotify:playlist:" for
                        a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_winner_uri:
                    description: >-
                        Spotify playlist identifier where the winner of the Poll will be saved, prepend
                        "spotify:playlist:" for a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_historic_uri:
                    description: >-
                        Spotify playlist identifier where all the songs of the Poll will be saved when is Poll
                        is finished, prepend "spotify:playlist:" for a complete valid spotify uri.
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                start_date:
                    format: date-time
                    description: The start date of this poll
                    type: string
                    externalDocs:
                        url: 'http://schema.org/datePublished'
                end_date:
                    format: date-time
                    description: 'The end date of this poll, only used if restart-date is empty.'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/expires'
                restart_date:
                    description: |-
                        String with a crontab style restart command. If setted, this poll is never closed,
                        the winner song goes to winner playlist and the others to the historic playlist.
                    type: string
                public_visibility:
                    description: Is this poll visible to anyone or only to the members of the group?
                    type: boolean
                public_votes:
                    description: Are the votes public meanwhile the poll is active?
                    type: boolean
                anon_can_vote:
                    description: Can anyone vote into this poll or only the members of the group?
                    type: boolean
                who_can_add_track:
                    nullable: true
                    description: |-
                        Who can add tracks into this poll?
                        null => nobody, 0 => owner, 1 => admin, 2 => member, 3 => invited, 4 => anyone
                    maximum: 4
                    minimum: 0
                    type: integer
                anon_votes_max_rating:
                    description: All the ratings given by a anonymous user to this poll can't excede this number
                    minimum: 0
                    type: integer
                user_votes_max_rating:
                    description: All the ratings given by a member to this poll can't excede this number
                    minimum: 0
                    type: integer
                multiple_user_tracks:
                    description: Can one user add more than one track to this poll?
                    type: boolean
                multiple_anon_tracks:
                    description: Can an anonymous user add more than one track to this poll?
                    type: boolean
                num_tracks:
                    description: Number of tracks of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
                num_rates:
                    description: Number of rates of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
                rates:
                    description: Available rates for this poll
                    type: array
                    items:
                        $ref: '#/components/schemas/Rate.Read'
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Question'
            example:
                id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                name: Weekly Public Playlist
                description: 'Public playlist, restarted weekly'
                spotify_playlist_images:
                    - 'https://pl.scdn.co/images/pl/default/1a165c7ee8ad6beeb36ceae02e5ca465129a7342'
                    - 'https://pl.scdn.co/images/pl/default/59a801c4bb5bdfa9dd690de51d2aa904f7809f58'
                spotify_playlist_public: true
                spotify_playlist_collaborative: false
                spotify_playlist_uri: 0yRBerq6d7SgJZk77uNx5l
                spotify_playlist_winner_uri: 7FuWGgXiRtjo4VIeTbe5Ph
                spotify_playlist_historic_uri: 7j8RuavEdsKTi06x786QMe
                start_date: '2020-02-13T13:35:20-05:00'
                end_date: '2020-03-13T13:35:20-05:00'
                restart_date: 0 0 * * 1
                public_visibility: true
                public_votes: true
                anon_can_vote: true
                who_can_add_track: 4
                anon_votes_max_rating: 1
                user_votes_max_rating: 3
                multiple_user_tracks: false
                multiple_anon_tracks: false
                group_id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                num_tracks: 2
                tracks:
                    -
                        id: a9269c43-94dc-4b6a-9e97-f8871d2b630b
                        artist: Lgrimas de Sangre
                        name: Rojos y separatistas
                        proposal_date: '2020-02-13T15:35:20-05:00'
                        spotify_uri: 1ECc1EhfkRx08o8uIwYOxW
                        spotify_images:
                            - 'https://i.scdn.co/image/ab67616d0000b273ae0fe33eda83f26bd0fdd956'
                        youtube_uri: t67NhxJhrUU
                    -
                        id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                        artist: Queen
                        name: I Was Born To Love You - 2011 Remaster
                        proposal_date: '2020-02-14T13:35:20-05:00'
                        spotify_uri: 7DtdhIJlSSOaAFNk4JdXCb
                        spotify_images:
                            - 'https://i.scdn.co/image/58476b3d9c1690d25f356a5c7f4280499a2624b7'
                num_rates: 1
                rates:
                    -
                        rating: 3
                        created_at: '2020-02-14T13:35:20-05:00'
                        poll_id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                        track_id: 8a34652d-9535-41e9-96d7-ee0b09e82a36
                        session_id: 91cac577-0cd4-4d0e-ae7a-bcd62bfa8e40
                        user_id: b85dc364-a646-4230-9f52-adfd45561b20
        Spotify.Search:
            description: Object
            type: object
            properties:
                album_uri:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Album unique identifier
                artist_uri:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Artist unique identifier
                track_uri:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Track unique identifier
                playlist_uri:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Playlist unique identifier
                query:
                    description: Search query keywords and optional field filters and operators.
                    type: string
                    externalDocs:
                        url: 'https://developer.spotify.com/documentation/web-api/reference/search/search/'
                type:
                    description: >-
                        A comma-separated list of item types to search across. Valid types are: album ,
                        artist, playlist, track, show and episode.
                    type: string
            example:
                album_uri: 11vOC497hO0Z0IWRrh3YdT
                artist_uri: 1dfeR4HaWDbWqFHLkxsg1d
                track_uri: 6rqhFgbbKwnb9MLmUQDhG6
                playlist_uri: 0yRBerq6d7SgJZk77uNx5l
                query: roadhouse%20blues
                type: album
        Spotify.URI:
            description: >-
                The base-62 identifier that you can find at the end of the Spotify URI (see above) for an
                artist, track, album, playlist, etc. Unlike a Spotify URI, a Spotify ID does not clearly
                identify the type of resource; that information is provided elsewhere in the call.
            type: string
            example: 1dfeR4HaWDbWqFHLkxsg1d
        Spotify.Read:
            description: Spotify Object
            required:
                - id
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Spotify unique identifier
                    readOnly: true
                type:
                    description: Type of the object
                    type: string
                artist:
                    description: The name of the artist.
                    type: string
                album:
                    description: The name of the album.
                    type: string
                track:
                    description: The name of the track.
                    type: string
                playlist:
                    description: The name of the playlist.
                    type: string
        Spotify.Read.Jsonld:
            description: Spotify Object
            required:
                - id
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/Spotify.URI'
                    description: Spotify unique identifier
                    readOnly: true
                type:
                    description: Type of the object
                    type: string
                artist:
                    description: The name of the artist.
                    type: string
                album:
                    description: The name of the album.
                    type: string
                track:
                    description: The name of the track.
                    type: string
                playlist:
                    description: The name of the playlist.
                    type: string
        Group.Write:
            description: 'An group of users or an organization, such as a school, NGO, corporation, club, etc.'
            type: object
            properties:
                name:
                    description: The name of the group
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                public_visibility:
                    description: Is this group public and can be seen be anyone?
                    type: boolean
                public_membership:
                    description: Can anyone be part of this group? Or an invitation is required?
                    type: boolean
                who_can_create_polls:
                    description: 'Who can create new Polls? Members->2, Admins-> 1, Owners-> 0'
                    maximum: 2
                    minimum: 0
                    type: integer
            externalDocs:
                url: 'https://schema.org/Group'
        Member.Read:
            description: A member of an Group
            required:
                - created_at
                - id
                - group_id
                - username
                - rol
            type: object
            properties:
                created_at:
                    format: date-time
                    description: DateTime when this object is created
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/User.UUID'
                    description: The User Uuid
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/member'
                group_id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: The Group Uuid where this user belong
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/hostingGroup'
                username:
                    description: The name of the user
                    type: string
                email:
                    description: The email of the user
                    type: string
                    externalDocs:
                        url: 'http://schema.org/email'
                rol:
                    description: 'Rol of the user in this group: OWNER = 0;ADMIN = 1;MEMBER = 2;INVITED = 3;'
                    maximum: 3
                    minimum: 0
                    type: integer
            externalDocs:
                url: 'https://schema.org/ProgramMembership'
            example:
                created_at: '2020-02-13T13:35:20-05:00'
                user_id: b85dc364-a646-4230-9f52-adfd45561b20
                rol: 0
        Group.Read:
            description: 'An group of users or an organization, such as a school, NGO, corporation, club, etc.'
            required:
                - id
                - created_at
                - name
                - public_visibility
                - public_membership
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: Group unique identifier
                    readOnly: true
                created_at:
                    format: date-time
                    description: DateTime when this object is created
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/foundingDate'
                name:
                    description: The name of the group
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                description:
                    description: The description of the group
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                public_visibility:
                    description: Is this group public and can be seen be anyone?
                    type: boolean
                public_membership:
                    description: Can anyone be part of this group? Or an invitation is required?
                    type: boolean
                who_can_create_polls:
                    description: 'Who can create new Polls? Members->2, Admins-> 1, Owners-> 0'
                    maximum: 2
                    minimum: 0
                    type: integer
                num_members:
                    description: Number of members in this group
                    type: integer
                    readOnly: true
                num_polls:
                    description: Number of polls in this group
                    type: integer
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Group'
            example:
                id: a9894239-905a-4a14-b43f-5f116b9e0532
                created_at: '2020-02-13T13:35:20-05:00'
                name: Discoveryfy
                public_visibility: true
                public_membership: true
                who_can_create_polls: 0
                num_members: 1
                num_polls: 1
        Group.Read.Jsonld:
            description: 'An group of users or an organization, such as a school, NGO, corporation, club, etc.'
            required:
                - id
                - created_at
                - name
                - public_visibility
                - public_membership
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: Group unique identifier
                    readOnly: true
                created_at:
                    format: date-time
                    description: DateTime when this object is created
                    type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/foundingDate'
                name:
                    description: The name of the group
                    type: string
                    externalDocs:
                        url: 'http://schema.org/name'
                public_visibility:
                    description: Is this group public and can be seen be anyone?
                    type: boolean
                public_membership:
                    description: Can anyone be part of this group? Or an invitation is required?
                    type: boolean
                who_can_create_polls:
                    description: 'Who can create new Polls? Members->2, Admins-> 1, Owners-> 0'
                    maximum: 2
                    minimum: 0
                    type: integer
                num_members:
                    description: Number of members in this group
                    type: integer
                    readOnly: true
                members:
                    description: Members in this group
                    type: array
                    items:
                        $ref: '#/components/schemas/User.List'
                    readOnly: true
                num_polls:
                    description: Number of polls in this group
                    type: integer
                    readOnly: true
                polls:
                    description: Polls in this group
                    type: array
                    items:
                        $ref: '#/components/schemas/Poll.List'
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Group'
        Member.Read.Jsonld:
            description: A member of an Group
            required:
                - created_at
                - user_id
                - group_id
                - rol
            type: object
            properties:
                '@context':
                    type: string
                    readOnly: true
                '@id':
                    type: string
                    readOnly: true
                '@type':
                    type: string
                    readOnly: true
                created_at:
                    format: date-time
                    description: DateTime when this object is created
                    type: string
                    readOnly: true
                user_id:
                    $ref: '#/components/schemas/User.UUID'
                    description: The User Uuid
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/member'
                group_id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: The Group Uuid where this user belong
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/hostingGroup'
                rol:
                    description: 'Rol of the user in this group: OWNER = 0;ADMIN = 1;MEMBER = 2;INVITED = 3;'
                    maximum: 3
                    minimum: 0
                    type: integer
            externalDocs:
                url: 'https://schema.org/ProgramMembership'
        Poll.List:
            description: Poll / Election / Referendum
            required:
                - name
                - id
            type: object
            properties:
                id:
                    $ref: '#/components/schemas/Poll.UUID'
                    description: Poll unique identifier
                    readOnly: true
                name:
                    description: 'The name of the poll, this value is also the name showed in the Spotify playlist'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                description:
                    description: >-
                        The description of the poll, this value is also the description showed in the Spotify
                        playlist
                    type: string
                    externalDocs:
                        url: 'http://schema.org/text'
                spotify_playlist_images:
                    description: Array with all the images provided by Spotify
                    type: array
                    items:
                        type: string
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/image'
                spotify_playlist_public:
                    description: 'If true the playlist will be public, if false it will be private.'
                    type: boolean
                spotify_playlist_collaborative:
                    description: |-
                        If true, the playlist will become collaborative and other users
                        will be able to modify the playlist in their Spotify client.
                        Note: You can only set collaborative to true on non-public playlists.
                    type: boolean
                spotify_playlist_uri:
                    description: >-
                        Spotify playlist identifier where the Poll is located, prepend "spotify:playlist:" for
                        a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_winner_uri:
                    description: >-
                        Spotify playlist identifier where the winner of the Poll will be saved, prepend
                        "spotify:playlist:" for a complete valid spotify uri
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                spotify_playlist_historic_uri:
                    description: >-
                        Spotify playlist identifier where all the songs of the Poll will be saved when is Poll
                        is finished, prepend "spotify:playlist:" for a complete valid spotify uri.
                    type: string
                    externalDocs:
                        url: 'http://schema.org/identifier'
                start_date:
                    format: date-time
                    description: The start date of this poll
                    type: string
                    externalDocs:
                        url: 'http://schema.org/datePublished'
                end_date:
                    format: date-time
                    description: 'The end date of this poll, only used if restart-date is empty.'
                    type: string
                    externalDocs:
                        url: 'http://schema.org/expires'
                restart_date:
                    description: |-
                        String with a crontab style restart command. If setted, this poll is never closed,
                        the winner song goes to winner playlist and the others to the historic playlist.
                    type: string
                public_visibility:
                    description: Is this poll visible to anyone or only to the members of the group?
                    type: boolean
                public_votes:
                    description: Are the votes public meanwhile the poll is active?
                    type: boolean
                anon_can_vote:
                    description: Can anyone vote into this poll or only the members of the group?
                    type: boolean
                who_can_add_track:
                    nullable: true
                    description: |-
                        Who can add tracks into this poll?
                        null => nobody, 0 => owner, 1 => admin, 2 => member, 3 => invited, 4 => anyone
                    maximum: 4
                    minimum: 0
                    type: integer
                anon_votes_max_rating:
                    description: All the ratings given by a anonymous user to this poll can't excede this number
                    minimum: 0
                    type: integer
                user_votes_max_rating:
                    description: All the ratings given by a member to this poll can't excede this number
                    minimum: 0
                    type: integer
                multiple_user_tracks:
                    description: Can one user add more than one track to this poll?
                    type: boolean
                multiple_anon_tracks:
                    description: Can an anonymous user add more than one track to this poll?
                    type: boolean
                group_id:
                    $ref: '#/components/schemas/Group.UUID'
                    description: The Group Uuid where this Poll belong
                    readOnly: true
                    externalDocs:
                        url: 'http://schema.org/hostingGroup'
                num_tracks:
                    description: Number of tracks of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
                num_rates:
                    description: Number of rates of this poll
                    minimum: 0
                    type: integer
                    readOnly: true
            externalDocs:
                url: 'https://schema.org/Question'
            example:
                id: 15de7d9a-4b1f-4260-b0fd-91c2c9b76bd5
                name: Weekly Public Playlist
                description: 'Public playlist, restarted weekly'
                spotify_playlist_images:
                    - 'https://pl.scdn.co/images/pl/default/1a165c7ee8ad6beeb36ceae02e5ca465129a7342'
                    - 'https://pl.scdn.co/images/pl/default/59a801c4bb5bdfa9dd690de51d2aa904f7809f58'
                spotify_playlist_public: true
                spotify_playlist_collaborative: false
                spotify_playlist_uri: 0yRBerq6d7SgJZk77uNx5l
                spotify_playlist_winner_uri: 7FuWGgXiRtjo4VIeTbe5Ph
                spotify_playlist_historic_uri: 7j8RuavEdsKTi06x786QMe
                start_date: '2020-02-13T13:35:20-05:00'
                end_date: '2020-03-13T13:35:20-05:00'
                restart_date: 0 0 * * 1
                public_visibility: true
                public_votes: true
                anon_can_vote: true
                who_can_add_track: 4
                anon_votes_max_rating: 1
                user_votes_max_rating: 3
                multiple_user_tracks: false
                multiple_anon_tracks: false
                group_id: 9fea1130-479a-44be-bcf6-d10030b76c4b
                num_tracks: 2
                num_rates: 1
    responses:
        Resource.Deleted:
            content:
                application/json: {}
                application/vnd.api+json: {}
                application/ld+json: {}
            description: Resource deleted correctly
        Bad.Request:
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/Errors'
                application/vnd.api+json:
                    schema:
                        type: object
                        properties:
                            jsonapi:
                                $ref: '#/components/schemas/Jsonapi.Version'
                            errors:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Error'
                            meta:
                                $ref: '#/components/schemas/Jsonapi.Meta'
                application/ld+json:
                    schema:
                        $ref: '#/components/schemas/Errors.Jsonld'
            description: >-
                The request could not be understood by the server due to malformed syntax. The client SHOULD
                NOT repeat the request without modifications.
        Internal.Server.Error:
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/Errors'
                application/vnd.api+json:
                    schema:
                        type: object
                        properties:
                            jsonapi:
                                $ref: '#/components/schemas/Jsonapi.Version'
                            errors:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Error'
                            meta:
                                $ref: '#/components/schemas/Jsonapi.Meta'
                application/ld+json:
                    schema:
                        $ref: '#/components/schemas/Errors.Jsonld'
            description: The server encountered an unexpected condition which prevented it from fulfilling the request.
        Unauthorized:
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/Errors'
                application/vnd.api+json:
                    schema:
                        type: object
                        properties:
                            jsonapi:
                                $ref: '#/components/schemas/Jsonapi.Version'
                            errors:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Error'
                            meta:
                                $ref: '#/components/schemas/Jsonapi.Meta'
                application/ld+json:
                    schema:
                        $ref: '#/components/schemas/Errors.Jsonld'
            description: The request requires user authentication
    parameters:
        pageParam:
            name: page
            description: The numbers of the page
            schema:
                default: 1
                minimum: 1
                type: integer
            in: query
            required: false
        sortGroupsParam:
            name: sort
            description: >-
                Sort the groups by name, by num-polls or by num-users. Sorting is in ascending order by
                default, to sort descending you can prepend - to the field.
            schema:
                type: array
                items:
                    default: name
                    enum:
                        - name
                        - '-name'
                        - num-polls
                        - '-num-polls'
                        - num-users
                        - '-num-users'
                    type: string
            in: query
            required: false
        filterGroupsParam:
            name: filter
            description: Filter the group by name.
            schema:
                type: object
                properties:
                    id:
                        type: string
                    name:
                        type: string
            in: query
            required: false
        includeGroupsParam:
            name: include
            description: The included relationships
            schema:
                type: array
                items:
                    default: polls
                    enum:
                        - polls
                        - members
                    type: string
            in: query
            required: false
        sortPollsParam:
            name: sort
            description: >-
                Sort polls by name, by num-tracks or by num-votes. Sort tracks by proposal-date, by name, by
                artist or by num-votes. Sorting is in ascending order by default, to sort descending you can
                prepend - to the field.
            schema:
                type: array
                items:
                    default: name
                    enum:
                        - name
                        - '-name'
                        - num-votes
                        - '-num-votes'
                        - num-tracks
                        - '-num-tracks'
                        - tracks.proposal-date
                        - '-tracks.proposal-date'
                        - tracks.name
                        - '-tracks.name'
                        - tracks.artist
                        - '-tracks.artist'
                        - tracks.num-votes
                        - '-tracks.num-votes'
                    type: string
            in: query
            required: false
        filterPollsParam:
            name: filter
            description: 'Filter Polls by id, by name. Filter Tracks by id, by name and by artist.'
            schema:
                type: object
                properties:
                    id:
                        type: string
                    name:
                        type: string
                    tracks.id:
                        type: string
                    tracks.name:
                        type: string
                    tracks.artist:
                        type: string
            in: query
            required: false
        includePollsParam:
            name: include
            description: The included relationships
            schema:
                type: array
                items:
                    default: tracks
                    enum:
                        - tracks
                    type: string
            in: query
            required: false
    securitySchemes:
        bearerAuth:
            scheme: bearer
            bearerFormat: JWT
            type: http
            description: 'JWT Token, in Authorization header, with Bearer prepended.'
            name: Authorization
            in: header
        csrf:
            scheme: basic
            type: http
            description: Cross-site request forgery token. Send the token inside "X-CSRF-TOKEN" header.
            name: X-CSRF-TOKEN
            in: header
security:
    -
        bearerAuth: []
    -
        csrf: []
tags:
    -
        name: Group
        description: A group of users
    -
        name: Poll
        description: 'Poll, owned by one group, can have tracks and votes'
    -
        name: User
        description: The client of the API
